# Custom Thread Pool Executor - README

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π ThreadPoolExecutor —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- Round Robin-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
- –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Worker
- –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–∞ Worker
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–∞ –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `ThreadPoolExecutor` –∏–∑ `java.util.concurrent`, –¥–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –æ—á–µ—Ä–µ–¥–µ–π –∏ Worker‚Äô–æ–≤.
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—á–µ—Ä–µ–¥–∏ `ThreadPoolExecutor` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –æ–¥–Ω–æ–π –æ—á–µ—Ä–µ–¥—å—é, –∞ –≤ –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã.
- –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –±–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏ Round Robin –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º executor.

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏-–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| core | max | queue | minSpare | keepAlive | –í—Ä–µ–º—è (—Å–µ–∫) | –û—Ç–∫–ª–æ–Ω–µ–Ω–æ |
|------|-----|--------|----------|------------|-------------|-----------|
| 2    | 4   | 5      | 1        | 5 —Å–µ–∫      | ~76         | 75        |
| 4    | 8   | 10     | 2        | 5 —Å–µ–∫      | ~38         | 30        |
| 6    | 10  | 20     | 4        | 10 —Å–µ–∫     | ~28         | 4         |
| 8    | 12  | 30     | 6        | 15 —Å–µ–∫     | ~26         | 0         |

üìå **–í—ã–≤–æ–¥—ã:**
- `minSpareThreads` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫ –Ω–∞ –Ω–∞–≥—Ä—É–∑–∫—É.
- –ë–æ–ª—å—à–æ–π `maxPoolSize` —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.
- `queueSize` –≤–∞–∂–µ–Ω –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫ –ø–∏–∫–æ–≤—ã–º –Ω–∞–≥—Ä—É–∑–∫–∞–º.
- `keepAliveTime` 10‚Äì15 —Å–µ–∫—É–Ω–¥ ‚Äî –∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ –º–µ–∂–¥—É —ç–∫–æ–Ω–æ–º–∏–µ–π —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é.

üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–æ—Ñ–∏–ª—å:**
```java
core = 6
max = 10
queue = 20
minSpare = 4
keepAlive = 10 —Å–µ–∫—É–Ω–¥
```

## –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ Round Robin
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ Worker —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–≤–æ—è –æ—á–µ—Ä–µ–¥—å (`BlockingQueue`)
- –ó–∞–¥–∞—á–∏ –ø–æ—Å—Ç—É–ø–∞—é—Ç –≤ –æ—á–µ—Ä–µ–¥–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É Round Robin:
```java
int index = rrIndex.getAndIncrement() % taskQueues.size();
taskQueues.get(index).offer(command);
```
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –±–µ–∑ –æ—Ü–µ–Ω–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –æ—á–µ—Ä–µ–¥–µ–π.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π, –ª–æ–≥–∏—Ä—É—é—â–∏–π –∏ –±–∞–ª–∞–Ω—Å–∏—Ä—É—é—â–∏–π –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π shutdown, fallback, metrics –∏ Round Robin-–±–∞–ª–∞–Ω—Å–∞.