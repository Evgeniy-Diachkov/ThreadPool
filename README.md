# Custom Thread Pool Executor - README

## Общее описание
Этот проект реализует кастомный ThreadPoolExecutor с поддержкой:
- Round Robin-балансировки
- отдельных очередей для каждого Worker
- минимального резерва Worker
- логирования всех этапов
- обработки отказа при перегрузке

## Анализ производительности
- В отличие от `ThreadPoolExecutor` из `java.util.concurrent`, данная реализация даёт полный контроль над поведением очередей и Worker’ов.
- Статические очереди `ThreadPoolExecutor` ограничены одной очередью, а в нашей реализации очереди разделены.
- Проведенные тесты показывают более равномерную загрузку потоков при Round Robin по сравнению со стандартным executor.

## Параметры и исследования
- `corePoolSize = 2` и `minSpareThreads = 2` обеспечивают быструю реакцию на задачи без дополнительной затраты на постоянный разгон пула.
- `maxPoolSize = 5` и `queueSize = 3` позволяют проверить отказы, перегрузку и реакцию на нехватку ресурсов.
- `keepAliveTime = 5 секунд` оптимален для вывода резервных потоков в idle.

## Балансировка Round Robin
- Для каждого Worker создаётся своя очередь (`BlockingQueue`)
- Задачи поступают в очереди по принципу Round Robin:
```java
int index = rrIndex.getAndIncrement() % taskQueues.size();
taskQueues.get(index).offer(command);
```
- Это обеспечивает равномерное распределение нагрузки без оценки времени или очередей.

---

## Заключение
Реализован конфигурируемый, логирующий и балансирующий пул потоков с полной поддержкой shutdown, fallback, metrics и Round Robin-баланса.